# Telegram Animated Sticker to Lottie JSON Bot

Бот для Telegram, который принимает анимированные стикеры (.tgs) из пака и возвращает весь пак в ZIP с Lottie JSON файлами.

---

## Функционал

- Пришли анимированный стикер — бот соберёт весь пакет `.tgs` и сформирует ZIP с JSON.
- Прогресс обработки отображается каждые 30%.
- Rate limit: 1 пак на пользователя каждые 30 секунд.
- RAM-only ZIP, без сохранения файлов на диск.
- Поддержка `.env` для настройки токена и стартового стикера.

---

## Установка

1. Клонируем репозиторий:

```bash
git clone <repo_url>
cd <repo_folder>
```

2. Создаём `.env` файл:

```env
BOT_TOKEN=your_telegram_bot_token
START_STIKER=file_id_или_url_стартового_стикера
```

3. Устанавливаем зависимости через Bun:

```bash
bun install
```

---

## Запуск локально

```bash
bun run index.ts
```

Бот будет работать и слушать сообщения в Telegram.

---

## Docker

### Сборка образа

```bash
docker build -t telegram-bot-bun .
```

### Запуск контейнера

```bash
docker run -d --name my-bot \
  -e BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11 \
  -e START_STIKER=CAACAgIAAxkBA... \
  telegram-bot-bun
```

> В контейнере бот полностью RAM-only, нет временных файлов.

---

## Структура проекта

```
.
├─ index.ts         # Основной скрипт бота
├─ package.json
├─ bun.lockb
├─ .env             # Токен бота и стартовый стикер
└─ README.md
```

---

## Настройки

- `BOT_TOKEN` — токен вашего Telegram-бота.
- `START_STIKER` — file_id или URL стикера, который отправляется при старте (опционально).

---

## Примечания

- Бот поддерживает только **анимированные стикеры из пака**.
- Все файлы обрабатываются **в памяти**, ZIP формируется и сразу отправляется пользователю.
- Для больших паков возможны небольшие задержки из-за последовательной обработки `.tgs` файлов.
